(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{448:function(e,t,a){e.exports=a(994)},455:function(e,t,a){},456:function(e,t,a){},484:function(e,t,a){},619:function(e,t,a){},624:function(e,t,a){},629:function(e,t,a){},939:function(e,t,a){},948:function(e,t,a){},989:function(e,t,a){},991:function(e,t,a){},992:function(e,t,a){},994:function(e,t,a){"use strict";a.r(t);a(449);var n=a(11),i=a(0),r=a.n(i),l=a(9),o=a.n(l),s=(a(455),a(456),a(290),a(149)),c=a(24),u=a(25),d=a(36),h=a(35),p=a(37),m=(a(291),a(10)),g=a(176),y=(a(995),a(104)),f=a(89),E=a(103),b=(a(63),a(23)),v=(a(92),a(34)),k=(a(210),a(27)),S=(a(152),a(60)),x=(a(153),a(38)),N=a(429),I=a.n(N),C=new(function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"login",value:function(e){return this.fetch("post","/auth/login",e)}},{key:"addHospital",value:function(e){return e=Object.assign({},{token:this.token},e),this.fetch("post","/super-admin/hospital/create",e)}},{key:"getHospitalList",value:function(){var e=this.token;return this.fetch("get","/hospitals?token=".concat(e))}},{key:"setPatient",value:function(e){e=Object.assign({},{token:this.token},e);var t="";return 4===this.identity&&(t="/super-admin/user/create"),2===this.identity&&(t="/hospital-editor/user/create"),this.fetch("post",t,e)}},{key:"getIndicators",value:function(e){var t=this.token,a="/indicators?token=".concat(t);return e&&(a+="&hospitalId=".concat(e)),this.fetch("get",a)}},{key:"setIndicator",value:function(e){e=Object.assign({},{token:this.token},e);var t=4===JSON.parse(sessionStorage.getItem("auth")).role.identity?"/super-admin/indicator/set":"/hospital-admin/indicator/set";return this.fetch("post",t,e)}},{key:"setEditor",value:function(e){e=Object.assign({},{token:this.token},e);var t=4===JSON.parse(sessionStorage.getItem("auth")).role.identity?"/super-admin/hospital-editor/create":"/hospital-admin/hospital-editor/create";return this.fetch("post",t,e)}},{key:"getEditorList",value:function(e){var t=this.token,a="";return 4===this.identity&&(a="/super-admin/hospital-editors?token=".concat(t)),3===this.identity&&(a="/hospital-admin/hospital-editors?token=".concat(t)),1===this.identity&&(a="/customer-service/hospital-editors?token=".concat(t)),e&&(a+="&hospitalId=".concat(e)),this.fetch("get",a)}},{key:"updataEditor",value:function(e){e=Object.assign({},{token:this.token},e);var t="";return 4===this.identity&&(t="/super-admin/hospital-editor/modify"),3===this.identity&&(t="/hospital-admin/hospital-editor/modify"),this.fetch("post",t,e)}},{key:"setCustomer",value:function(e){return e=Object.assign({},{token:this.token},e),this.fetch("post","/super-admin/customer-service/create",e)}},{key:"updataCustomer",value:function(e){return e=Object.assign({},{token:this.token},e),this.fetch("post","/super-admin/customer-service/modify",e)}},{key:"customerList",value:function(e){var t=this.token,a="";return a="/super-admin/customer-services?token=".concat(t),e&&(a+="&hospitalId=".concat(e)),this.fetch("get",a)}},{key:"setHospitalManager",value:function(e){return e=Object.assign({},{token:this.token},e),this.fetch("post","/super-admin/hospital-admin/create",e)}},{key:"getHospitalManagerLis",value:function(e){var t=this.token,a="";return 4===this.identity&&(a="/super-admin/hospital-admins?token=".concat(t)),1===this.identity&&(a="/customer-service/hospital-admins?token=".concat(t)),e&&(a+="&hospitalId=".concat(e)),this.fetch("get",a)}},{key:"updataHospitalManager",value:function(e){return e=Object.assign({},{token:this.token},e),this.fetch("post","/super-admin/hospital-admin/modify",e)}},{key:"setNurse",value:function(e){return e=Object.assign({},{token:this.token},e),this.fetch("post","/super-admin/hospital-nurse/create",e)}},{key:"getNurse",value:function(e){var t=this.token,a="";return 4===this.identity&&(a="/super-admin/hospital-nurses?token=".concat(t)),1===this.identity&&(a="/customer-service/hospital-nurses?token=".concat(t)),e&&(a+="&hospitalId=".concat(e)),this.fetch("get",a)}},{key:"updataNurse",value:function(e){return e=Object.assign({},{token:this.token},e),this.fetch("post","/super-admin/hospital-nurse/modify",e)}},{key:"userSearch",value:function(e){var t="",a=this.token;for(var n in 4===this.identity&&(t="/super-admin/user/query?token=".concat(a)),2===this.identity&&(t="/hospital-editor/user/query?token=".concat(a)),5===this.identity&&(t="/hospital-nurse/user/query?token=".concat(a)),1===this.identity&&(t="/customer-service/user/query?token=".concat(a)),e)e[n]&&(t+="&".concat(n,"=").concat(e[n]));return this.fetch("get",t)}},{key:"patientDetail",value:function(e){var t=this.token,a="";return 4===this.identity&&(a="/super-admin/user/".concat(e,"/detail?token=").concat(t)),2===this.identity&&(a="/hospital-editor/user/".concat(e,"/detail?token=").concat(t)),5===this.identity&&(a="/hospital-nurse/user/".concat(e,"/detail?token=").concat(t)),1===this.identity&&(a="/customer-service/user/".concat(e,"/detail?token=").concat(t)),this.fetch("get",a)}},{key:"nutritionScreeningSave",value:function(e,t){e=Object.assign({},{token:this.token},e);var a="";return 4===this.identity&&(a="/super-admin/user/".concat(t,"/risk-screening/update")),5===this.identity&&(a="/hospital-nurse/user/".concat(t,"/risk-screening/update")),this.fetch("post",a,e)}},{key:"nutritionScreeningGet",value:function(e){var t=this.token,a="";return 4===this.identity&&(a="/super-admin/user/".concat(e,"/risk-screening?token=").concat(t)),5===this.identity&&(a="/hospital-nurse/user/".concat(e,"/risk-screening?token=").concat(t)),1===this.identity&&(a="/customer-service/user/".concat(e,"/risk-screening?token=").concat(t)),this.fetch("get",a)}},{key:"treatmentSheetGet",value:function(e){var t=this.token,a="";return 4===this.identity&&(a="/super-admin/user/".concat(e,"/treatment?token=").concat(t)),2===this.identity&&(a="/hospital-editor/user/".concat(e,"/treatment?token=").concat(t)),1===this.identity&&(a="/customer-service/user/".concat(e,"/treatment?token=").concat(t)),this.fetch("get",a)}},{key:"treatmentSheetSave",value:function(e,t){e=Object.assign({},{token:this.token},e);var a="";return 4===this.identity&&(a="/super-admin/user/".concat(t,"/treatment/update")),2===this.identity&&(a="/hospital-editor/user/".concat(t,"/treatment/update")),this.fetch("post",a,e)}},{key:"delHospital",value:function(e){var t="/super-admin/hospital/".concat(e,"/delete?token=").concat(this.token);return this.fetch("DELETE",t)}}]),t}(function(){function e(){Object(c.a)(this,e),this.baseUrl=""}return Object(u.a)(e,[{key:"fetch",value:function(e,t,a){return this.baseUrl="https://sibyl.bahamute.tech",I()({method:e,url:this.baseUrl+t,data:a,headers:{"Content-Type":"application/json;charset=utf-8"}})}},{key:"token",get:function(){return sessionStorage.getItem("auth")?JSON.parse(sessionStorage.getItem("auth")).token:""}},{key:"identity",get:function(){return sessionStorage.getItem("auth")?JSON.parse(sessionStorage.getItem("auth")).role.identity:""}}]),e}())),A=(a(484),x.a.Option),F={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}},D={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:5}}},O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={tipArr:[],sortStatus:{},hospitalList:[]},a.role=JSON.parse(sessionStorage.getItem("auth")),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;4===this.role.role.identity&&C.getHospitalList().then(function(t){0===t.data.code&&e.setState({hospitalList:t.data.data.hospitals})}),4!==this.role.role.identity&&this.setState({hospitalList:[this.role.role.hospital]})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){e||C.setPatient(a).then(function(e){0==e.data.code?(S.a.success({message:"\u4fdd\u5b58\u6210\u529f"}),t.props.form.resetFields(),t.props.history.push("/patientList")):S.a.error({message:e.data.msg})})})}},{key:"render",value:function(){var e=this.state.hospitalList,t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"addinfo-container"},r.a.createElement("div",{className:"form-content"},r.a.createElement(k.a,Object.assign({},F,{onSubmit:this.handleSubmit.bind(this),className:"login-form"}),r.a.createElement(k.a.Item,{label:"\u533b\u9662"},t("hospitalId",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u533b\u9662"}],initialValue:e.length?e[0].id:""})(r.a.createElement(x.a,null,e.map(function(e,t){return r.a.createElement(A,{key:e.id,value:e.id},e.name)})))),r.a.createElement(k.a.Item,{label:"\u79d1\u5ba4"},t("department",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u79d1\u5ba4"}]})(r.a.createElement(v.a,{size:"default",type:"text",placeholder:"\u79d1\u5ba4"}))),r.a.createElement(k.a.Item,{label:"\u4f4f\u9662\u53f7"},t("hospitalizationNumber",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f4f\u9662\u53f7"}]})(r.a.createElement(v.a,{size:"default",placeholder:"\u4f4f\u9662\u53f7"}))),r.a.createElement(k.a.Item,{label:"\u59d3\u540d"},t("fullName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u59d3\u540d"}]})(r.a.createElement(v.a,{size:"default",type:"text",placeholder:"\u59d3\u540d"}))),r.a.createElement(k.a.Item,{label:"\u6027\u522b"},t("gender",{rules:[{required:!0,message:"\u9009\u62e9\u6027\u522b"}],initialValue:"0"})(r.a.createElement(x.a,null,r.a.createElement(A,{value:"0"},"\u7537"),r.a.createElement(A,{value:"1"},"\u5973")))),r.a.createElement(k.a.Item,{label:"\u5e74\u9f84"},t("age",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e74\u9f84"}]})(r.a.createElement(v.a,{size:"default",type:"text",placeholder:"\u5e74\u9f84"}))),r.a.createElement(k.a.Item,{label:"\u624b\u673a"},t("mobile",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a"}]})(r.a.createElement(v.a,{size:"default",type:"text",placeholder:"\u624b\u673a"}))),r.a.createElement(k.a.Item,D,r.a.createElement(b.a,{type:"primary",htmlType:"submit"},"\u4fdd\u5b58")))))}}]),t}(r.a.Component),w=k.a.create({name:"AddInfoCom"})(O),M=(a(333),a(151)),_=(a(619),a(249),a(56)),j=(a(428),a(150)),L=(a(624),function(){function e(t,a){Object(c.a)(this,e),this.department="",this.name="",this.sex="",this.age="",this._weight="",this._height="",this.diagnosis="",this.operationDate="",this.assessDate="",this.inHospitalDate="",this.diseaseScore={option1:[{name:"\u9acb\u9aa8\u6298",select:!1},{name:"\u6162\u6027\u75be\u75c5\u6025\u6027\u53d1\u4f5c\u6216\u6709\u5e76\u53d1\u75c7\u8005",select:!1},{name:"COPD",select:!1},{name:"\u8840\u6db2\u900f\u6790",select:!1},{name:"\u809d\u786c\u5316",select:!1},{name:"\u4e00\u822c\u6076\u6027\u80bf\u7624\u60a3\u8005",select:!1},{name:"\u7cd6\u5c3f\u75c5",select:!1}],option2:[{name:"\u8179\u90e8\u5927\u624b\u672f",select:!1},{name:"\u8111\u5352\u4e2d",select:!1},{name:"\u91cd\u5ea6\u80ba\u708e",select:!1},{name:"\u8840\u6db2\u6076\u6027\u80bf\u7624",select:!1}],option3:[{name:"\u9885\u8111\u635f\u4f24",select:!1},{name:"\u9aa8\u9ad3\u79fb\u690d",select:!1}],_totalScore:"",get totalScore(){return this._totalScore?this._totalScore:-1!=this.option3.findIndex(function(e){return e.select})?3:-1!=this.option2.findIndex(function(e){return e.select})?2:-1!=this.option1.findIndex(function(e){return e.select})?1:0}},this.nutritionalStatus={option1:{_BMI:"",get BMI(){return this._BMI?this._BMI:""},set BMI(e){!isNaN(e)&&e?this._BMI=Number(e).toFixed(2):this._BMI=""},_albumin:"",get albumin(){return this._albumin?this._albumin:""},set albumin(e){this._albumin=e},get score(){return""==this._BMI&&""==this._albumin?"":Number(this._BMI)<18.5&&""!==this._BMI?3:Number(this._BMI)>=18.5?0:Number(this._albumin)<30&&""!==this._albumin?3:Number(this._albumin)>=30?0:void 0}},option2:{options:[{text:"3\u4e2a\u6708\u5185(1\u5206)",select:!1},{text:"2\u4e2a\u6708\u5185(2\u5206)",select:!1},{text:"1\u4e2a\u6708\u5185(3\u5206)",select:!1}],select:null,get score(){return null!=this.select?Number(this.select)+1:0}},option3:{options:[{text:"25%-50%(1\u5206)",select:!1},{text:"51%-75%(2\u5206)",select:!1},{text:"76%-100%(3\u5206)",select:!1}],select:null,get score(){return null!=this.select?Number(this.select)+1:0}},_totalScore:"",get totalScore(){var e=[];e.push(this.option1.score),e.push(this.option2.score),e.push(this.option3.score);var t=e.sort(function(e,t){return t-e})[0];return 0!=t?t:0}},this.screeningPeople="",this.screeningDate="",t&&!a&&(this.name=t.fullName,this.sex=0==t.gender?"\u7537":"\u5973",this.age=t.age),t&&a&&this.setData(t)}return Object(u.a)(e,[{key:"getPostJson",value:function(){var e={};return e.department=this.department,e.name=this.name,e.sex=this.sex,e.age=Number(this.age),e.weight=this._weight,e.height=this._height,e.diagnosis=this.diagnosis,e.operationDate=this.operationDate,e.assessDate=this.assessDate,e.inHospitalDate=this.inHospitalDate,e.diseaseScore={},e.diseaseScore.option1=this.diseaseScore.option1,e.diseaseScore.option2=this.diseaseScore.option2,e.diseaseScore.option3=this.diseaseScore.option3,e.diseaseScore.totalScore=this.diseaseScore.totalScore,e.nutritionalStatus={option1:{},option2:{},option3:{}},e.nutritionalStatus.option1={BMI:this.nutritionalStatus.option1.BMI,albumin:this.nutritionalStatus.option1.albumin,score:this.nutritionalStatus.option1.score},e.nutritionalStatus.option2={options:this.nutritionalStatus.option2.options,select:this.nutritionalStatus.option2.select,score:this.nutritionalStatus.option2.score},e.nutritionalStatus.option3={options:this.nutritionalStatus.option3.options,select:this.nutritionalStatus.option3.select,score:this.nutritionalStatus.option3.score},e.nutritionalStatus.totalScore=this.nutritionalStatus.totalScore,e.ageScore=this.ageScore,e.totalScore=this.totalScore,e.screeningPeople=this.screeningPeople,e.screeningDate=this.screeningDate,JSON.stringify(e)}},{key:"setData",value:function(e){this.age=e.age,this.assessDate=e.assessDate,this.department=e.department,this.diagnosis=e.diagnosis,this.height=e.height,this.name=e.name,this.operationDate=e.operationDate,this.screeningPeople=e.screeningPeople,this.screeningDate=e.screeningDate,this.screeningDate=e.screeningDate,this.inHospitalDate=e.inHospitalDate,this.weight=e.weight,this.sex=0==e.sex?"\u7537":"\u5973",this.diseaseScore.option1=e.diseaseScore.option1,this.diseaseScore.option2=e.diseaseScore.option2,this.diseaseScore.option3=e.diseaseScore.option3,this.nutritionalStatus.option1.BMI=e.nutritionalStatus.option1.BMI,this.nutritionalStatus.option1.albumin=e.nutritionalStatus.option1.albumin,this.nutritionalStatus.option2.options=e.nutritionalStatus.option2.options,this.nutritionalStatus.option2.select=e.nutritionalStatus.option2.select,this.nutritionalStatus.option3.options=e.nutritionalStatus.option3.options,this.nutritionalStatus.option3.select=e.nutritionalStatus.option3.select}},{key:"height",set:function(e){this._height=e,this.nutritionalStatus.option1.BMI=Number(this._weight)/Math.pow(Number(this._height),2)},get:function(){return this._height}},{key:"weight",set:function(e){this._weight=e,this.nutritionalStatus.option1.BMI=Number(this._weight)/Math.pow(Number(this._height),2)},get:function(){return this._weight}},{key:"ageScore",get:function(){return""==this.age?"":Number(this.age)>=70?1:0}},{key:"totalScore",get:function(){return Number(this.ageScore)+Number(this.nutritionalStatus.totalScore)+Number(this.diseaseScore.totalScore)}}]),e}()),H=a(18),P=a.n(H),T=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={data:null,dataCopy:null,identity:JSON.parse(sessionStorage.getItem("auth")).role.identity},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({data:new L(this.props.info,!1),dataCopy:new L(this.props.info,!1)}),C.nutritionScreeningGet(this.props.id).then(function(t){0==t.data.code&&e.setState({dataCopy:null,data:null},function(){e.setState({data:new L(t.data.data,!0),dataCopy:new L(t.data.data,!0)})})})}},{key:"componentDidMount",value:function(){this.bindEvant()}},{key:"bindEvant",value:function(){var e=this;document.querySelectorAll(".world [data-contenteditable=true]").forEach(function(t){"albumin"!==t.id&&t.setAttribute("contenteditable","true"),t.oninput=function(t){if("albumin"===t.target.id){var a=e.state.data;return a.nutritionalStatus.option1.albumin=t.target.innerText.replace(/(^\s*)|(\s*$)/g,""),void e.setState({data:a})}var n=e.state.data;if(!t.target.id)return n[t.target.dataset.id]=t.target.innerText.replace(/(^\s*)|(\s*$)/g,""),void e.setState({data:n});n[t.target.id]=t.target.innerText.replace(/(^\s*)|(\s*$)/g,""),e.setState({data:n})}})}},{key:"save",value:function(){var e=this.state.data.getPostJson();e=JSON.parse(e);var t=this.props.id;C.nutritionScreeningSave(e,t).then(function(e){0==e.data.code?S.a.success({message:"\u4fdd\u5b58\u6210\u529f"}):S.a.error({message:e.data.msg})})}},{key:"print",value:function(){window.print()}},{key:"componentDidUpdate",value:function(){this.bindEvant()}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.dataCopy,i=t.identity;return a&&n?r.a.createElement("div",{className:"nutrition-screening",id:"print"},r.a.createElement("div",{className:"operation"},1!==i&&r.a.createElement(b.a,{type:"primary",style:{marginRight:"10px"},onClick:this.save.bind(this)},"\u4fdd\u5b58"),r.a.createElement(b.a,{type:"primary",onClick:this.print.bind(this)},"\u6253\u5370")),r.a.createElement("div",{className:"world"},r.a.createElement("div",{className:"header"},"NRS2002\u8425\u517b\u98ce\u9669\u7b5b\u67e5\u8868"),r.a.createElement("div",{className:"world-box"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"department"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"department",style:{height:"25px",lineHeight:"25px"}},n.department)),r.a.createElement("td",{id:"name"},r.a.createElement("p",{style:{height:"25px",lineHeight:"25px"}},n.name)),r.a.createElement("td",null,"\u6027\u522b\uff1a",n.sex),r.a.createElement("td",{id:"age"},r.a.createElement("p",{style:{height:"25px",textAlign:"center",lineHeight:"25px"}},n.age)),r.a.createElement("td",{id:"weight"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"weight",style:{height:"25px",textAlign:"center",lineHeight:"25px"}},n.weight)),r.a.createElement("td",{id:"height"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"height",style:{height:"25px",textAlign:"center",lineHeight:"25px"}},n.height))),r.a.createElement("tr",null,r.a.createElement("td",{id:"diagnosis","data-contenteditable":"true",colSpan:6,"data-id":"diagnosis",style:{height:"25px"}},"\xa0",n.diagnosis)),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2,style:{height:"25px",paddingLeft:"5px"}},"\u4f4f\u9662\u65e5\u671f\uff1a",r.a.createElement(j.a,{size:"small",placeholder:"",defaultValue:n.inHospitalDate?P()(n.inHospitalDate):void 0,style:{width:"130px"},onChange:function(t,n){var i=a;i.inHospitalDate=n,e.setState({data:i})}})),r.a.createElement("td",{colSpan:2,style:{height:"25px",paddingLeft:"5px"}},"\u624b\u672f\u65e5\u671f\uff1a",r.a.createElement(j.a,{size:"small",placeholder:"",defaultValue:n.inHospitalDate?P()(n.operationDate):void 0,style:{width:"130px"},onChange:function(t,n){var i=a;i.operationDate=n,e.setState({data:i})}})),r.a.createElement("td",{colSpan:2,style:{height:"25px",paddingLeft:"5px"}},"\u6d4b\u8bc4\u65e5\u671f\uff1a",r.a.createElement(j.a,{size:"small",defaultValue:n.inHospitalDate?P()(n.assessDate):void 0,placeholder:"",style:{width:"130px"},onChange:function(t,n){var i=a;i.assessDate=n,e.setState({data:i})}}))),r.a.createElement("tr",null,r.a.createElement("td",{style:{textAlign:"center"}},"1\u3001\u75be\u75c5\u8bc4\u5206\uff1a"),r.a.createElement("td",{colSpan:5},r.a.createElement("div",{className:"grid"},r.a.createElement("div",{className:"title"},"\u8bc4\u52061\u5206\uff1a"),r.a.createElement("div",{className:"check"},a.diseaseScore.option1.map(function(t){return r.a.createElement(_.a,{onChange:function(n){var i=a,r=i.diseaseScore.option1.findIndex(function(e){return e.name==t.name});i.diseaseScore.option1[r].select=n.target.checked,e.setState({data:i})},key:t.name,checked:t.select},t.name)}))),r.a.createElement("div",{className:"grid"},r.a.createElement("div",{className:"title"},"\u8bc4\u52062\u5206\uff1a"),r.a.createElement("div",{className:"check"},a.diseaseScore.option2.map(function(t){return r.a.createElement(_.a,{onChange:function(n){var i=a,r=i.diseaseScore.option2.findIndex(function(e){return e.name==t.name});i.diseaseScore.option2[r].select=n.target.checked,e.setState({data:i})},key:t.name,checked:t.select},t.name)}))),r.a.createElement("div",{className:"grid"},r.a.createElement("div",{className:"title"},"\u8bc4\u52063\u5206\uff1a"),r.a.createElement("div",{className:"check"},a.diseaseScore.option3.map(function(t){return r.a.createElement(_.a,{onChange:function(n){var i=a,r=i.diseaseScore.option3.findIndex(function(e){return e.name==t.name});i.diseaseScore.option3[r].select=n.target.checked,e.setState({data:i})},key:t.name,checked:t.select},t.name)}))))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,style:{padding:"5px"}},r.a.createElement("b",null,"\u5c0f\u7ed3\uff1a\u75be\u75c5\u6709\u5173\u8bc4\u5206:\u2003",a.diseaseScore.totalScore,"\u2003\u5206"),"\uff08\u6ce8\uff1a\u6700\u9ad8\u5f97\u52063\u5206\uff09")),r.a.createElement("tr",null,r.a.createElement("td",{style:{textAlign:"center"}},"2\u3001\u8425\u517b\u72b6\u6001\uff1a"),r.a.createElement("td",{colSpan:5},r.a.createElement("div",{style:{lineHeight:"25px",padding:"8px"}},"1\u3001\u8eab\u4f53\u8d28\u91cf\u6307\u6570\uff08BMI\uff09\xa0",r.a.createElement("p",{className:"editor"},a.nutritionalStatus.option1.BMI),"\xa0 ;\u5c0f\u4e8e18.5\uff083\u5206\uff09\u6ce8\uff1a\u56e0\u4e25\u91cd\u80f8\u8179\u6c34\u3001\u6c34\u80bf\u5f97\u4e0d\u5230\u51c6\u786eBMI\u503c\u65f6\uff0c\u65e0\u4e25\u91cd\u809d\u80be\u529f\u80fd\u5f02\u5e38\u8005\uff0c\u7528\u767d\u86cb\u767d\u66ff\u4ee3\xa0",r.a.createElement("p",{id:"albumin",className:"editor","data-contenteditable":"true",contentEditable:!a.height&&!a.weight,suppressContentEditableWarning:!0},n.nutritionalStatus.option1.albumin),"\xa0\uff08g/l\uff09\uff08\u5c0f\u4e8e30g/L,3\u5206\uff09"),r.a.createElement("div",{style:{lineHeight:"25px",padding:"0 8px 8px"}},"2\u3001\u4f53\u91cd\u4e0b\u964d>5%\u662f\u5728\uff1a",a.nutritionalStatus.option2.options.map(function(t,n){return r.a.createElement(_.a,{defaultChecked:a.nutritionalStatus.option2.select==n,key:t.text,checked:t.select,onChange:function(t){var i=a;i.nutritionalStatus.option2.options.map(function(e,a){a==n?(e.select=t.target.checked,i.nutritionalStatus.option2.select=t.target.checked?a:null):e.select=!1}),e.setState({data:i})}},t.text)})),r.a.createElement("div",{style:{lineHeight:"25px",padding:"0 8px 8px"}},"3\u3001\u4e00\u5468\u5185\u8fdb\u98df\u91cf\u8f83\u4ece\u524d\u51cf\u5c11\uff1a",a.nutritionalStatus.option3.options.map(function(t,n){return r.a.createElement(_.a,{defaultChecked:a.nutritionalStatus.option3.select==n,key:t.text,checked:t.select,onChange:function(t){var i=a;i.nutritionalStatus.option3.options.map(function(e,a){a==n?(e.select=t.target.checked,i.nutritionalStatus.option3.select=t.target.checked?a:null):e.select=!1}),e.setState({data:i})}},t.text)})))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,style:{padding:"5px"}},r.a.createElement("b",null,"\u5c0f\u7ed3\uff1a\u8425\u517b\u72b6\u6001\u8bc4\u5206\u2003",a.nutritionalStatus.totalScore,"\u2003\u5206"),"\uff08\u6ce8\uff1a\u6700\u9ad8\u5f97\u52063\u5206\uff09")),r.a.createElement("tr",null,r.a.createElement("td",{style:{padding:"5px"}},"3\u3001\u5e74\u9f84\u8bc4\u5206"),r.a.createElement("td",{colSpan:5,style:{padding:"5px"}},"\u5e74\u9f84>70\u5c81\uff081\u5206\uff09\u5e74\u9f84\uff1c70\u5c81\uff080\u5206\uff09")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,style:{padding:"5px"}},r.a.createElement("b",null,"\u5c0f\u7ed3\uff1a\u5e74\u9f84\u8bc4\u5206 ",a.ageScore," \u5206")," \uff08\u6ce8\uff1a\u6700\u9ad8\u5f97\u52061\u5206\uff09")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,style:{padding:"5px"}},r.a.createElement("p",{style:{textAlign:"left",fontWeight:"bold",marginBottom:"5px"}},"NRS2002\u8425\u517b\u98ce\u9669\u7b5b\u67e5\uff1a\u603b\u52067\u5206\uff0c\u5f97\u5206",a.totalScore,"\u5206"),r.a.createElement("p",{style:{textAlign:"right",fontWeight:"bold",fontFamily:""}},"\u7b5b\u67e5\u8005\u7b7e\u540d\uff1a",r.a.createElement("span",null,"_____________"),"\u2003\u2003\u2003\u2003 ________ \u5e74 ________ \u6708 ________ \u65e5"))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,style:{padding:"5px"}},r.a.createElement("p",null,"\u6ce8\uff1a\u5bf9\u4e8e\u8868\u4e2d\u6ca1\u6709\u660e\u786e\u5217\u51fa\u8bca\u65ad\u7684\u75be\u75c5\u53c2\u8003\u4ee5\u4e0b\u6807\u51c6\uff0c\u4f9d\u7167\u8c03\u67e5\u8005\u7684\u7406\u89e3\u8fdb\u884c\u8bc4\u5206"),r.a.createElement("div",{className:"text-2"},"1\u5206\uff1a\u6162\u6027\u75be\u75c5\u60a3\u8005\u56e0\u51fa\u73b0\u5e76\u53d1\u75c7\u800c\u4f4f\u9662\u6cbb\u7597\u3002\u75c5\u4eba\u865a\u5f31\u4f46\u4e0d\u9700\u5367\u5e8a\u3002\u86cb\u767d\u8d28\u9700\u8981\u91cf\u7565\u6709\u589e\u52a0\uff0c\u4f46\u53ef\u901a\u8fc7\u53e3\u670d\u8865\u5145\u6765\u5f25\u8865\u3002"),r.a.createElement("div",{className:"text-2"},"2\u5206\uff1a\u60a3\u8005\u9700\u8981\u5367\u5e8a\uff0c\u5982\u8179\u90e8\u5927\u624b\u672f\u540e\u3002\u86cb\u767d\u8d28\u9700\u8981\u91cf\u76f8\u5e94\u589e\u52a0\uff0c\u4f46\u5927\u591a\u6570\u4eba\u4ecd\u53ef\u4ee5\u901a\u8fc7\u80a0\u5916\u6216\u80a0\u5185\u8425\u517b\u652f\u6301\u5f97\u5230\u6062\u590d\u3002"),r.a.createElement("div",{className:"text-2"},"3\u5206\uff1a\u60a3\u8005\u5728\u52a0\u5f3a\u75c5\u623f\u4e2d\u9760\u673a\u68b0\u901a\u6c14\u652f\u6301\u3002\u86cb\u767d\u8d28\u9700\u8981\u91cf\u589e\u52a0\u800c\u4e14\u4e0d\u80fd\u88ab\u80a0\u5916\u6216\u80a0\u5185\u8425\u517b\u652f\u6301\u6240\u5f25\u8865\u3002\u4f46\u662f\u901a\u8fc7\u80a0\u5916\u6216\u80a0\u5185\u8425\u517b\u652f\u6301\u53ef\u4f7f\u86cb\u767d\u8d28\u5206\u89e3\u548c\u6c2e\u4e22\u5931\u660e\u663e\u51cf\u5c11\u3002"))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,style:{padding:"5px"}},r.a.createElement("p",{style:{marginBottom:"5px"}},r.a.createElement("b",null,"\u603b\u5206\u503c\u22653\u5206\uff1a\u60a3\u8005\u5904\u4e8e\u8425\u517b\u98ce\u9669\uff0c\u9700\u8981\u8425\u517b\u652f\u6301\uff0c\u7ed3\u5408\u4e34\u5e8a\uff0c\u5236\u5b9a\u8425\u517b\u6cbb\u7597\u8ba1\u5212\u3002")),r.a.createElement("p",null,r.a.createElement("b",null,"\u603b\u5206\u503c\uff1c3\u5206\uff1a\u6bcf\u5468\u590d\u67e5\u8425\u517b\u98ce\u9669\u7b5b\u67e5\u3002")))))),r.a.createElement("p",{style:{textAlign:"left",marginTop:"10px"}},r.a.createElement("b",null,"\u9002\u7528\u5bf9\u8c61\uff1a18-90\u5c81\uff0c\u4f4f\u96621\u5929\u4ee5\u4e0a\uff0c\u6b21\u65e58\u65f6\u672a\u884c\u624b\u672f\u8005\uff0c\u795e\u5fd7\u6e05\u8005\u3002"))))):r.a.createElement(r.a.Fragment,null)}}]),t}(r.a.Component),V=(a(334),a(221)),B=(a(996),a(437)),K=a(105),R=(a(627),a(436)),J=(a(629),a(446)),z=function(){function e(t,a,n){Object(c.a)(this,e),this.name="",this.sex="",this.age="",this.bedNum="",this.hospitalizationNum="",this.department="",this.mainDiagnosis="",this.parenteralNutritionEnergy={energy:"",PRO:"",FAT:"",CHO:""},this.dietarySurvey="",this.inEnergy={energy:"",PRO:"",FAT:"",CHO:""},this.height="",this.weight="",this.BMI="",this.needEnergy={energy:"",PRO:"",FAT:"",CHO:""},this.waist="",this.hip="",this.upperArm="",this.lowerLeg="",this.skinFoldThickness="",this.gripStrength="",this.lactoseIntolerance=!1,this.pleuralEffusion=!1,this.pancreaticFluid=!1,this.NutritionDiagnosis={options:[{text:"\u86cb\u767d\u8d28\u8425\u517b\u4e0d\u826f",_opt:["\u8f7b","\u4e2d","\u91cd"],select1:!1,select2:0},{text:"\u70ed\u80fd\u8425\u517b\u4e0d\u826f",_opt:["\u8f7b","\u4e2d","\u91cd"],select1:!1,select2:0},{text:"\u8d2b\u8840",_opt:["\u8f7b","\u4e2d","\u91cd"],select1:!1,select2:0},{text:"\u8d85\u91cd",select1:!1},{text:"\u80a5\u80d6",select1:!1}]},this.table={language:"cn",pro_language:{cn:["","","","","","","","","","\u6d88\u5316\u9053\u75c7\u72b6","\u7528\u6cd5","\u6db2\u91cf(mL)","\u86cb\u767d\u8d28/\u80fd\u91cf","\u8d39\u7528/\u5929","\u767d\u7ec6\u80de","\u6dcb\u5df4\u7ec6\u80de","\u8840\u7ea2\u86cb\u767d","\u603b\u86cb\u767d","\u767d\u86cb\u767d","\u524d\u767d\u86cb\u767d","\u8c37\u4e19\u8f6c\u6c28\u9176","\u8c37\u8349\u8f6c\u6c28\u9176","\u5c3f\u7d20","\u808c\u9150","\u5c3f\u9178","\u9499","\u8461\u8404\u7cd6","\u603b\u80c6\u56fa\u9187","\u7518\u6cb9\u4e09\u916f","LDL","hs-CRP","","","",""],en:["","","","","","","","","","DI Symptoms","USAGE","fl(mL)","PRO/EN","\uffe5/D","WBC","LYM","HGB","TP","ALB","PA","ALT","AST","UREA","CREA","UA","Ca","GLU","TC","TG","LDL","hs-CRP","","","",""]},_languageMap:new Map([["\u6d88\u5316\u9053\u75c7\u72b6","DI Symptoms"],["\u7528\u6cd5","USAGE"],["\u6db2\u91cf(mL)","fl(mL)"],["\u86cb\u767d\u8d28/\u80fd\u91cf","PRO/EN"],["\u8d39\u7528/\u5929","\uffe5/D"],["\u767d\u7ec6\u80de","WBC"],["\u6dcb\u5df4\u7ec6\u80de","LYM"],["\u8840\u7ea2\u86cb\u767d","HGB"],["\u603b\u86cb\u767d","TP"],["\u767d\u86cb\u767d","ALB"],["\u524d\u767d\u86cb\u767d","PA"],["\u8c37\u4e19\u8f6c\u6c28\u9176","ALT"],["\u8c37\u8349\u8f6c\u6c28\u9176","AST"],["\u5c3f\u7d20","UREA"],["\u808c\u9150","CREA"],["\u5c3f\u9178","UA"],["\u9499","Ca"],["\u8461\u8404\u7cd6","GLU"],["\u603b\u80c6\u56fa\u9187","TC"],["\u7518\u6cb9\u4e09\u916f","TG"]]),_projact:[],get project(){return this._projact.length?this._projact:this.pro_language[this.language]},set project(e){var t=this,a=[];"cn"==this.language?e.map(function(e,n){(e||""==e)&&!t.pro_language.cn[n]&&a.push(e),e&&t.pro_language.cn[n]&&a.push(t.pro_language.cn[n])}):e.map(function(e,n){(e||""==e)&&!t.pro_language.en[n]&&a.push(e),e&&t.pro_language.en[n]&&a.push(t.pro_language.en[n])}),this._projact=a},get data(){return this._data},set data(e){if("cn"===this.language){var t={};for(var a in e){var n=0,i=!0,r=!1,l=void 0;try{for(var o,s=this._languageMap.entries()[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value,u=Object(J.a)(c,2),d=u[0],h=u[1];n++,a===d||a===h?(n=0,t[d]=e[a]):n===this._languageMap.size&&(t[a]=e[a])}}catch(g){r=!0,l=g}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}}this._data=t}else{var p={};for(var m in e)this._languageMap.get(m)?p[this._languageMap.get(m)]=e[m]:p[m]=e[m];this._data=p}},_data:{}},this.fontMateTable={},n&&(this.table.language=n),t&&!a&&(this.name=t.fullName,this.sex=0==t.gender?"\u7537":"\u5973",this.age=t.age,this.hospitalizationNum=t.hospitalizationNumber),t&&a&&this.setData(t)}return Object(u.a)(e,[{key:"fontMateTableData",value:function(){var e=this,t={};t.project=Object(K.a)(this.table.project);var a=[];if(this.table.project.map(function(e){a.push({key:e,data:[],id:Math.random()})}),this.table.data&&Object.keys(this.table.data).length){var n=function(n){for(var i=a.findIndex(function(e){return e.key==n}),r=e.table.data[n].split("|"),l=new Array,o=0;o<Math.ceil(r.length/9);o++){var s=[];for(s=r.length-9*o>9?r.slice(9*o,9):r.slice(9*o);s.length<9;)s.push("");l.push(Object(K.a)(s)),t.page=o+1}a[i].data=l};for(var i in this.table.data)n(i)}else a.map(function(e){e.data.push(new Array(9).fill(""))});t.data=[].concat(a);var r=t.data.find(function(e){return e.data.length>0}),l=[];return r.data.map(function(e){var a=[],n=[];for(e.map(function(e){a.push(e.split(",")[0]),n.push("".concat(e.split(",")[0],","))});a.length<9;)a.push("");for(;n.length<9;)n.push("");t.data.map(function(e){e.data.length<r.data.length&&e.data.push([].concat(n))}),l.push([].concat(a))}),t.data.map(function(e){e.data.map(function(e,t){e.map(function(e,a){var n=e.split(",")[0];!l[t][a]&&(l[t][a]=n)})})}),t.timerArr=l,!t.page&&(t.page=1),this.fontMateTable=t,t}},{key:"newTable",value:function(){Object(K.a)(this.table.project);var e=[];this.table.project.map(function(t){e.push({key:t,data:[],id:Math.random()})})}},{key:"setData",value:function(e){for(var t in e)"table"===t?(this.table.data=e[t].data,this.table.language=e[t].language||"cn",this.table.project=e[t].project):"sex"===t?this.sex=0==e[t]||"\u7537"==e[t]?"\u7537":"\u5973":this[t]=e[t]}},{key:"getPostJson",value:function(){var e=JSON.parse(JSON.stringify(this)),t=Object.assign({},this.fontMateTable);delete e.table,delete e.fontMateTable;var a=[],n={};return t.data.map(function(e){var t;a.push(e.key),e.key&&(n[e.key]=(t=[]).concat.apply(t,Object(K.a)(e.data)).join("|"))}),e.table={language:this.table.language,project:a,data:n},JSON.stringify(e)}},{key:"updataData",value:function(){var e=[],t={};this.fontMateTable.data.map(function(a){var n;e.push(a.key),a.key&&(t[a.key]=(n=[]).concat.apply(n,Object(K.a)(a.data)).join("|"))}),this.table={project:e,data:t}}}]),e}();var q=a(435),G=a.n(q),W=x.a.Option,U=function(e){return r.a.createElement(G.a,{option:e.opt.option,style:{height:"350px",width:"100%"},className:"react_for_echarts",notMerge:!0,lazyUpdate:!0})},Q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={data:null,dataCopy:null,tableData:{},identity:JSON.parse(sessionStorage.getItem("auth")).role.identity,lang:"cn",showChart:!1,chartOption:{},title:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){document.querySelectorAll(".world [data-contenteditable=true]").forEach(function(e){e.setAttribute("contenteditable","true")})}},{key:"componentWillMount",value:function(){var e=this;C.treatmentSheetGet(this.props.id).then(function(t){2===t.data.code?e.setState({data:new z(e.props.info,!1),dataCopy:new z(e.props.info,!1)},function(){e.setState({tableData:e.state.data.fontMateTableData()})}):0===t.data.code&&e.setState({data:new z(t.data.data,!0),dataCopy:new z(t.data.data,!0)},function(){e.setState({tableData:e.state.data.fontMateTableData()})})})}},{key:"print",value:function(){window.print()}},{key:"addNewSheet",value:function(){var e=this,t=this.state,a=t.data;t.dataCopy;a.updataData();var n=JSON.parse(JSON.stringify(a)),i=this.state.tableData.timerArr,r=i[i.length-1];if(r[r.length-1]){for(var l in n.table.data)n.table.data[l]+="||||||||";this.setState({data:new z(n,!0),dataCopy:new z(n,!0)},function(){e.setState({tableData:e.state.data.fontMateTableData()})})}else R.a.info("\u5f53\u524d\u8868\u683c\u672a\u586b\u6ee1")}},{key:"onInputFun_1",value:function(e){e.persist();var t=this.state.data,a=e.target.innerText.replace(/(^\s*)|(\s*$)/g,"");if(t[e.target.dataset.id]=a,"height"==e.target.dataset.id||"weight"==e.target.dataset.id)for(var n=document.querySelectorAll("[data-id=BMI]"),i=0;i<=n.length-1;){var r=Number(this.state.data.weight)/Math.pow(Number(this.state.data.height)/100,2);this.state.data.BMI=String(Math.round(10*r)/10),this.state.dataCopy.BMI=String(Math.round(10*r)/10),0!=r&&(n[i].innerText=Math.round(10*r)/10),n[i].style.background=t.BMI?"#FAFAD2":"#fff",i++}for(var l=document.querySelectorAll("[data-id=".concat(e.target.dataset.id,"]")),o=0;o<=l.length-1;)l[o]!=e.target&&(l[o].innerText=t[e.target.dataset.id]),l[o].style.background=t[e.target.dataset.id]?"#FAFAD2":"#fff",o++}},{key:"onInputFun_2",value:function(e){e.persist();var t=this.state.data;t[e.target.dataset.id][e.target.dataset.target]=e.target.innerText.replace(/(^\s*)|(\s*$)/g,"");var a=document.querySelectorAll("[data-id=".concat(e.target.dataset.id,"][data-target=").concat(e.target.dataset.target,"]")),n=0;if("parenteralNutritionEnergy"===e.target.dataset.id){var i=4*t.parenteralNutritionEnergy.PRO+9*t.parenteralNutritionEnergy.FAT+4*t.parenteralNutritionEnergy.CHO;t.parenteralNutritionEnergy.energy=String(i),this.state.dataCopy.parenteralNutritionEnergy.energy=String(i);for(var r=document.querySelectorAll("[data-id=parenteralNutritionEnergy][data-target=energy]"),l=0;l<=r.length-1;)r[l].innerText=i,r[l].style.background=t.parenteralNutritionEnergy.energy?"#FAFAD2":"#fff",l++}for(;n<=a.length-1;)a[n]!=e.target&&(a[n].innerText=t[e.target.dataset.id][e.target.dataset.target]),a[n].style.background=t[e.target.dataset.id][e.target.dataset.target]?"#FAFAD2":"#fff",n++}},{key:"componentDidUpdate",value:function(){document.querySelectorAll(".world [data-contenteditable=true]").forEach(function(e){e.setAttribute("contenteditable","true")})}},{key:"languageChange",value:function(e){var t=this;this.setState({lang:e}),this.state.data.table.language=e,this.state.dataCopy.table.language=e,this.setState({data:new z(this.state.data,!0,e),dataCopy:new z(this.state.dataCopy,!0,e)},function(){t.setState({tableData:t.state.data.fontMateTableData()})})}},{key:"save",value:function(){var e=JSON.parse(this.state.data.getPostJson());C.treatmentSheetSave(e,this.props.id).then(function(e){0==e.data.code?S.a.success({message:"\u4fdd\u5b58\u6210\u529f"}):S.a.error({message:e.data.msg})})}},{key:"checkTdVal",value:function(e){var t="\u7537"===this.state.data.sex?0:1,a=this.props.indicators,n=Number(e.innerText),i=e.parentElement.firstChild.innerText,r=a.find(function(e){return e.enName===i||e.zhName===i});r&&!isNaN(n)&&(n>r.rangeValue[t].min?e.style.color="#f00":n<r.rangeValue[t].max&&(e.style.color="#32CD32"))}},{key:"renderChechVal",value:function(e,t){var a="\u7537"===this.state.data.sex?0:1,n=e,i=this.props.indicators.find(function(e){return e.enName===t||e.zhName===t});return!i||isNaN(n)?"#000":(1===i.rangeValue.length&&(a=0),n>i.rangeValue[a].min?"#f00":n<i.rangeValue[a].max?"#32CD32":void 0)}},{key:"setProEn",value:function(e,t,a,n){var i=function(e){var t=[{"\u54c1\u540d":"\u5747\u8861\u6027\u5168\u8425\u517b\u7d20","\u7b80\u79f0":"LJH",Pro:"13.6 ",Fat:"28.6 ",Cho:"55.8 ","\u80fd\u91cf\u5bc6\u5ea6":"4.4",Na:"2",K:"1.6",Ca:"3.5",DF:"0.03",DHA:"0"},{"\u54c1\u540d":"\u4f0a\u5168\u7d20","\u7b80\u79f0":"HJH",Pro:"17.0 ",Fat:"23.4 ",Cho:"56.8 ","\u80fd\u91cf\u5bc6\u5ea6":"4.23",Na:"3.1",K:"4.8",Ca:"2.88",DF:"0.04",DHA:""},{"\u54c1\u540d":"\u9ea6\u9a8f","\u7b80\u79f0":"MJ",Pro:"16.0 ",Fat:"60.4 ",Cho:"23.6 ","\u80fd\u91cf\u5bc6\u5ea6":"400kcal/\u76d2",Na:"",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u7545\u6e05","\u7b80\u79f0":"MCQ",Pro:"17.9 ",Fat:"30.5 ",Cho:"51.0 ","\u80fd\u91cf\u5bc6\u5ea6":"4.45",Na:"4",K:"0",Ca:"3",DF:"",DHA:""},{"\u54c1\u540d":"\u672f\u548c","\u7b80\u79f0":"MSH",Pro:"63.0 ",Fat:"6.6 ",Cho:"26.8 ","\u80fd\u91cf\u5bc6\u5ea6":"3.8",Na:"",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u77ed\u80bd\u578b\u8425\u517b\u7d20","\u7b80\u79f0":"LDT",Pro:"14.5 ",Fat:"14.6 ",Cho:"69.9 ","\u80fd\u91cf\u5bc6\u5ea6":"4.14",Na:"3",K:"6.2",Ca:"0.8",DF:"0",DHA:""},{"\u54c1\u540d":"\u4f4e\u86cb\u767d\u5168\u8425\u517b\u7d20","\u7b80\u79f0":"LLP",Pro:"8.0 ",Fat:"31.0 ",Cho:"61.0 ","\u80fd\u91cf\u5bc6\u5ea6":"4.42",Na:"1.2",K:"0",Ca:"3.3",DF:"0.045",DHA:""},{"\u54c1\u540d":"\u652f\u94fe\u6c28\u57fa\u9178\u5168\u8425\u517b\u7d20","\u7b80\u79f0":"LBA",Pro:"21.0 ",Fat:"28.0 ",Cho:"51.0 ","\u80fd\u91cf\u5bc6\u5ea6":"4.26",Na:"1.5",K:"1.2",Ca:"3.5",DF:"0.03",DHA:""},{"\u54c1\u540d":"\u4f0a\u652f\u7d20","\u7b80\u79f0":"HBA",Pro:"10.8 ",Fat:"8.7 ",Cho:"77.4 ","\u80fd\u91cf\u5bc6\u5ea6":"4.13",Na:"1.57",K:"4.6",Ca:"2.5",DF:"0.04",DHA:""},{"\u54c1\u540d":"\u4f0a\u7cd6\u7d20","\u7b80\u79f0":"HGI",Pro:"16.9 ",Fat:"40.0 ",Cho:"38.4 ","\u80fd\u91cf\u5bc6\u5ea6":"4.5",Na:"4.22",K:"4.8",Ca:"2.7",DF:"0.1",DHA:""},{"\u54c1\u540d":"\u4f4eGI\u5168\u8425\u517b\u7d20","\u7b80\u79f0":"LGI",Pro:"19.4 ",Fat:"31.5 ",Cho:"46.0 ","\u80fd\u91cf\u5bc6\u5ea6":"4.43",Na:"2",K:"1.5",Ca:"4.2",DF:"0.06",DHA:""},{"\u54c1\u540d":"\u6d53\u7f29\u4e73\u6e05\u86cb\u767d\u7c89","\u7b80\u79f0":"LP",Pro:"81.3 ",Fat:"11.4 ",Cho:"6.1 ","\u80fd\u91cf\u5bc6\u5ea6":"4",Na:"4",K:"0",Ca:"0",DF:"0",DHA:""},{"\u54c1\u540d":"\u529b\u6108","\u7b80\u79f0":"LHP",Pro:"39.7 ",Fat:"27.8 ",Cho:"31.8 ","\u80fd\u91cf\u5bc6\u5ea6":"4.52",Na:"",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u5927\u8c46\u86cb\u767d\u7c89","\u7b80\u79f0":"SP",Pro:"92.5 ",Fat:"",Cho:"","\u80fd\u91cf\u5bc6\u5ea6":"4",Na:"",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u590d\u914d\u4e73\u6e05\u86cb\u767d\u7c89","\u7b80\u79f0":"HP",Pro:"83.8 ",Fat:"11.3 ",Cho:"3.6 ","\u80fd\u91cf\u5bc6\u5ea6":"3.82",Na:"1.52",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u6d66\u7d22\u86cb\u767d\u7c89","\u7b80\u79f0":"MP",Pro:"95.8 ",Fat:"2.7 ",Cho:"0.0 ","\u80fd\u91cf\u5bc6\u5ea6":"3.33",Na:"5.33",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u7ef4\u751f\u7d20\u7ec4\u4ef6","\u7b80\u79f0":"LVt",Pro:"",Fat:"",Cho:"","\u80fd\u91cf\u5bc6\u5ea6":"",Na:"",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u6c34\u6eb6\u6027\u7ef4\u751f\u7d20\u7ec4\u4ef6","\u7b80\u79f0":"WVt",Pro:"",Fat:"",Cho:"","\u80fd\u91cf\u5bc6\u5ea6":"",Na:"",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u76ca\u751f\u83cc\u9897\u7c92","\u7b80\u79f0":"LBi",Pro:"",Fat:"",Cho:"","\u80fd\u91cf\u5bc6\u5ea6":"",Na:"",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u7545\u900f","\u7b80\u79f0":"MCT",Pro:"0.0 ",Fat:"0.0 ",Cho:"20.7 ","\u80fd\u91cf\u5bc6\u5ea6":"97kcal/\u74f6",Na:"",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u81b3\u98df\u7ea4\u7ef4\u7ec4\u4ef6","\u7b80\u79f0":"LDF",Pro:"",Fat:"",Cho:"","\u80fd\u91cf\u5bc6\u5ea6":"1.87",Na:"",K:"",Ca:"",DF:"0.9",DHA:""},{"\u54c1\u540d":"\u81b3\u98df\u7ea4\u7ef4\u7ec4\u4ef61\u53f7","\u7b80\u79f0":"HDF",Pro:"1.5 ",Fat:"0.0 ",Cho:"0.0 ","\u80fd\u91cf\u5bc6\u5ea6":"2.03",Na:"0.1",K:"",Ca:"",DF:"0.992",DHA:""},{"\u54c1\u540d":"\u767e\u7eb3\u6b62\u5f3a\u590d\u5408\u81b3\u98df\u7ea4\u7ef4\u7c89","\u7b80\u79f0":"MZQ",Pro:"3.5 ",Fat:"0.0 ",Cho:"85.8 ","\u80fd\u91cf\u5bc6\u5ea6":"38kcal/\u888b",Na:"",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"DHA\u7ec4\u4ef6","\u7b80\u79f0":"DHA",Pro:"",Fat:"",Cho:"","\u80fd\u91cf\u5bc6\u5ea6":"",Na:"",K:"",Ca:"",DF:"",DHA:"20"},{"\u54c1\u540d":"\u94c1\u5143\u7d20\u7ec4\u4ef6","\u7b80\u79f0":"LFe",Pro:"",Fat:"",Cho:"","\u80fd\u91cf\u5bc6\u5ea6":"",Na:"",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u76d0","\u7b80\u79f0":"LNa",Pro:"",Fat:"",Cho:"","\u80fd\u91cf\u5bc6\u5ea6":"",Na:"381",K:"",Ca:"1.2",DF:"",DHA:""},{"\u54c1\u540d":"\u590d\u5408\u9499\u7ec4\u4ef6","\u7b80\u79f0":"LCa",Pro:"",Fat:"",Cho:"","\u80fd\u91cf\u5bc6\u5ea6":"",Na:"",K:"",Ca:"60",DF:"",DHA:""},{"\u54c1\u540d":"\u4e73\u9499","\u7b80\u79f0":"Hca",Pro:"1.7 ",Fat:"3.4 ",Cho:"95.0 ","\u80fd\u91cf\u5bc6\u5ea6":"2.61",Na:"0.3",K:"",Ca:"100",DF:"",DHA:""},{"\u54c1\u540d":"\u5361\u6377","\u7b80\u79f0":"MKJ",Pro:"0.0 ",Fat:"0.0 ",Cho:"98.5 ","\u80fd\u91cf\u5bc6\u5ea6":"3.69",Na:"3.63",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u8c37\u6c28\u9170\u80fa\u7ec4\u4ef6","\u7b80\u79f0":"HG",Pro:"100",Fat:"",Cho:"","\u80fd\u91cf\u5bc6\u5ea6":"3.96",Na:"0.2",K:"",Ca:"",DF:"",DHA:""},{"\u54c1\u540d":"\u9ea6\u82bd\u7cca\u7cbe","\u7b80\u79f0":"HMY",Pro:"0.7",Fat:"0",Cho:"97.7","\u80fd\u91cf\u5bc6\u5ea6":"3.86",Na:"0.006",K:"",Ca:"",DF:"",DHA:""}],a=0,n=0,i=0,r=0,l=!0,o=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(l=(c=u.next()).done);l=!0)for(var d=c.value,h=0,p=t;h<p.length;h++){var m=p[h],g=d.name.trim();if(g==m.\u54c1\u540d||g==m.\u7b80\u79f0){var y=m.\u80fd\u91cf\u5bc6\u5ea6*Math.round(100*d.value)/100,f=y*m.Pro/400,E=y*m.Fat/900,b=y*m.Cho/400;a+=y,n+=f,i+=E,r+=b;break}}}catch(v){o=!0,s=v}finally{try{l||null==u.return||u.return()}finally{if(o)throw s}}return{energySum:a=Math.round(a),proSum:n=Math.round(10*n)/10,fatSum:i=Math.round(100*i)/100,choSum:r=Math.round(100*r)/100}}(e),r=this.state.tableData.data.find(function(e){return"\u86cb\u767d\u8d28/\u80fd\u91cf"==e.key||"PRO/EN"==e.key});r.data[t][a]="".concat(n,",").concat(i.proSum,"/").concat(i.energySum),document.querySelectorAll("[data-proid='".concat(r.id,"']"))[t].parentElement.childNodes[a+1].innerText="".concat(i.proSum,"/").concat(i.energySum)}},{key:"openChart",value:function(e){var t,a="\u7537"===this.state.data.sex?0:1,n=(t=[]).concat.apply(t,Object(K.a)(e.data)),i=this.props.indicators,r={option:{title:{text:"".concat(e.key)},tooltip:{trigger:"axis",position:function(e){return[e[0],"10%"]}},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},series:[{data:[],type:"line",itemStyle:{color:"#32CD32"},areaStyle:{color:"#00FF7F"},markLine:{silent:!0,data:[]}}]}},l=i.filter(function(t){return t.enName===e.key||t.zhName===e.key})[0];l&&(r.option.series[0].markLine.data=[{yAxis:l.rangeValue[a].min,lineStyle:{color:"#32CD32"},label:{show:!0,formatter:"\u6700\u5c0f\u503c{c}"}},{yAxis:l.rangeValue[a].max,lineStyle:{color:"#f00"},label:{show:!0,formatter:"\u6700\u5927\u503c{c}"}}]),n.map(function(e){r.option.xAxis.data.push(e.split(",")[0]),r.option.series[0].data.push(Number(e.split(",")[1]))}),this.setState({showChart:!0,chartOption:r})}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.dataCopy,i=t.tableData,l=t.identity,o=t.lang,s=new Array(i.page).fill(Math.random());if(!Object.keys(i).length)return r.a.createElement(r.a.Fragment,null);var c=i.data.slice(0,9);return r.a.createElement("div",{className:"treatment-sheet"},r.a.createElement("div",{className:"operation"},1!==l&&r.a.createElement(b.a,{type:"primary",style:{marginRight:"10px"},onClick:this.addNewSheet.bind(this)},"\u6dfb\u52a0\u8868\u683c"),1!==l&&r.a.createElement(b.a,{type:"primary",style:{marginRight:"10px"},onClick:this.save.bind(this)},"\u4fdd\u5b58"),r.a.createElement(b.a,{type:"primary",onClick:this.print.bind(this)},"\u6253\u5370"),r.a.createElement(x.a,{defaultValue:o,style:{marginLeft:"10px"},onChange:this.languageChange.bind(this)},r.a.createElement(W,{value:"cn"},"\u4e2d\u6587"),r.a.createElement(W,{value:"en"},"\u82f1\u6587"))),s.map(function(t,l){return r.a.createElement("div",{key:l,className:"world"},r.a.createElement("div",{className:"title"},"\u8425\u517b\u6cbb\u7597\u5355"),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"row-1"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"20%"},id:"name"},r.a.createElement("p",{style:{background:n.name?"#FAFAD2":"",textAlign:"left",paddingLeft:"5px"}},n.name)),r.a.createElement("td",{style:{width:"90px"},id:"sex"},r.a.createElement("p",{style:{background:n.sex?"#FAFAD2":"",textAlign:"left",paddingLeft:"5px"}},n.sex)),r.a.createElement("td",{style:{width:"90px"},id:"age"},r.a.createElement("p",{style:{background:n.age?"#FAFAD2":"",textAlign:"left",paddingLeft:"5px"}},n.age)),r.a.createElement("td",{id:"department"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"department",onInput:e.onInputFun_1.bind(e),style:{background:n.department?"#FAFAD2":"",textAlign:"left",paddingLeft:"5px"}},n.department)),r.a.createElement("td",{id:"bedNum"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"bedNum",onInput:e.onInputFun_1.bind(e),style:{background:n.bedNum?"#FAFAD2":"",textAlign:"left",paddingLeft:"5px"}},n.bedNum)),r.a.createElement("td",{id:"hospitalizationNum"},r.a.createElement("p",{style:{marginLeft:"4em",background:n.hospitalizationNum?"#FAFAD2":"",textAlign:"left",paddingLeft:"5px"}},n.hospitalizationNum)))))),r.a.createElement("div",{className:"row-2"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"mainDiagnosis"},r.a.createElement("p",{"data-contenteditable":"true",style:{marginLeft:"5em",textAlign:"left",background:n.mainDiagnosis?"#FAFAD2":""},"data-id":"mainDiagnosis",onInput:e.onInputFun_1.bind(e)},n.mainDiagnosis)))))),r.a.createElement("div",{className:"row-3"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"pleuralEffusion"},r.a.createElement("span",{style:{paddingLeft:"0.3em",fontWeight:"bold"}},"\u80f8\u8154\u79ef\u6db2:"),r.a.createElement(x.a,{defaultValue:String(a.pleuralEffusion),onChange:function(t){var n=a;n.pleuralEffusion="true"==t,e.setState({data:n})}},r.a.createElement(W,{value:"",disabled:!0},"\u662f/\u5426"),r.a.createElement(W,{value:"true"},"\u662f"),r.a.createElement(W,{value:"false"},"\u5426"))),r.a.createElement("td",{id:"pancreaticFluid"},r.a.createElement("span",{style:{fontWeight:"bold"}},"\u8179\u8154\u79ef\u6db2:"),r.a.createElement(x.a,{defaultValue:String(a.pancreaticFluid),onChange:function(t){var n=a;n.pancreaticFluid="true"==t,e.setState({data:n})}},r.a.createElement(W,{value:"",disabled:!0},"\u662f/\u5426"),r.a.createElement(W,{value:"true"},"\u662f"),r.a.createElement(W,{value:"false"},"\u5426"))),r.a.createElement("td",{id:"energy"},r.a.createElement("p",{"data-id":"parenteralNutritionEnergy","data-target":"energy",onInput:e.onInputFun_2.bind(e),style:{background:n.parenteralNutritionEnergy.energy?"#FAFAD2":""}},n.parenteralNutritionEnergy.energy)),r.a.createElement("td",{id:"energy-PRO"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"parenteralNutritionEnergy","data-target":"PRO",onInput:e.onInputFun_2.bind(e),style:{background:n.parenteralNutritionEnergy.PRO?"#FAFAD2":""}},n.parenteralNutritionEnergy.PRO)),r.a.createElement("td",{id:"energy-FAT"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"parenteralNutritionEnergy","data-target":"FAT",onInput:e.onInputFun_2.bind(e),style:{background:n.parenteralNutritionEnergy.FAT?"#FAFAD2":""}},n.parenteralNutritionEnergy.FAT)),r.a.createElement("td",{id:"energy-CHO"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"parenteralNutritionEnergy","data-target":"CHO",onInput:e.onInputFun_2.bind(e),style:{background:n.parenteralNutritionEnergy.CHO?"#FAFAD2":""}},n.parenteralNutritionEnergy.CHO)))))),r.a.createElement("div",{className:"row-4"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"dietarySurvey"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"dietarySurvey",onInput:e.onInputFun_1.bind(e),style:{textAlign:"left",background:n.dietarySurvey?"#FAFAD2":"",height:"unset"}},n.dietarySurvey))))),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"lactoseIntolerance"},r.a.createElement("span",{style:{fontWeight:"bold",marginTop:"2px"}},"\u4e73\u7cd6\u4e0d\u8010\u53d7:"),r.a.createElement(x.a,{defaultValue:String(a.lactoseIntolerance),onChange:function(t){var n=a;n.lactoseIntolerance="true"==t,e.setState({data:n})}},r.a.createElement(W,{value:"",disabled:!0},"\u662f/\u5426"),r.a.createElement(W,{value:"true"},"\u662f"),r.a.createElement(W,{value:"false"},"\u5426"))),r.a.createElement("td",{id:"inEnergy"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"inEnergy","data-target":"energy",onInput:e.onInputFun_2.bind(e),style:{background:n.inEnergy.energy?"#FAFAD2":""}},n.inEnergy.energy)),r.a.createElement("td",{id:"inEnergy-PRO"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"inEnergy","data-target":"PRO",onInput:e.onInputFun_2.bind(e),style:{background:n.inEnergy.PRO?"#FAFAD2":""}},n.inEnergy.PRO)),r.a.createElement("td",{id:"inEnergy-FAT"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"inEnergy","data-target":"FAT",onInput:e.onInputFun_2.bind(e),style:{background:n.inEnergy.FAT?"#FAFAD2":""}},n.inEnergy.FAT)),r.a.createElement("td",{id:"inEnergy-CHO"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"inEnergy","data-target":"CHO",onInput:e.onInputFun_2.bind(e),style:{background:n.inEnergy.CHO?"#FAFAD2":""}},n.inEnergy.CHO)))))),r.a.createElement("div",{className:"row-5"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"height"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"height",onInput:e.onInputFun_1.bind(e),style:{background:n.height?"#FAFAD2":""}},n.height)),r.a.createElement("td",{id:"weight"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"weight",onInput:e.onInputFun_1.bind(e),style:{background:n.weight?"#FAFAD2":""}},n.weight)),r.a.createElement("td",{id:"BMI"},r.a.createElement("p",{"data-id":"BMI",onInput:e.onInputFun_1.bind(e),style:{background:n.BMI?"#FAFAD2":""}},n.BMI)),r.a.createElement("td",{id:"needEnergy"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"needEnergy","data-target":"energy",onInput:e.onInputFun_2.bind(e),style:{background:n.needEnergy.energy?"#FAFAD2":""}},n.needEnergy.energy)),r.a.createElement("td",{id:"needEnergy-PRO"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"needEnergy","data-target":"PRO",onInput:e.onInputFun_2.bind(e),style:{background:n.needEnergy.PRO?"#FAFAD2":""}},n.needEnergy.PRO)),r.a.createElement("td",{id:"needEnergy-FAT"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"needEnergy","data-target":"FAT",onInput:e.onInputFun_2.bind(e),style:{background:n.needEnergy.FAT?"#FAFAD2":""}},n.needEnergy.FAT)),r.a.createElement("td",{id:"needEnergy-CHO"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"needEnergy","data-target":"CHO",onInput:e.onInputFun_2.bind(e),style:{background:n.needEnergy.CHO?"#FAFAD2":""}},n.needEnergy.CHO))))),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{id:"waist"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"waist",onInput:e.onInputFun_1.bind(e),style:{background:n.waist?"#FAFAD2":""}},n.waist)),r.a.createElement("td",{id:"hip"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"hip",onInput:e.onInputFun_1.bind(e),style:{background:n.hip?"#FAFAD2":""}},n.hip)),r.a.createElement("td",{id:"upperArm"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"upperArm",onInput:e.onInputFun_1.bind(e),style:{background:n.upperArm?"#FAFAD2":""}},n.upperArm)),r.a.createElement("td",{id:"lowerLeg"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"lowerLeg",onInput:e.onInputFun_1.bind(e),style:{background:n.lowerLeg?"#FAFAD2":""}},n.lowerLeg)),r.a.createElement("td",{id:"skinfoldThickness"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"skinfoldThickness",onInput:e.onInputFun_1.bind(e),style:{background:n.skinFoldThickness?"#FAFAD2":""}},n.skinFoldThickness)),r.a.createElement("td",{id:"gripStrength"},r.a.createElement("p",{"data-contenteditable":"true","data-id":"gripStrength",onInput:e.onInputFun_1.bind(e),style:{background:n.gripStrength?"#FAFAD2":""}},n.gripStrength)))))),r.a.createElement("div",{className:"row-6"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",{style:{height:"25px"}},r.a.createElement("td",{style:{width:"5em",paddingLeft:"0.2em",fontWeight:"bold"}},"\u8425\u517b\u8bca\u65ad:"),a.NutritionDiagnosis.options.map(function(t,n){var i="";0==n&&(i="200px"),1==n&&(i="200px"),2==n&&(i="140px");var l={width:i};return r.a.createElement("td",{key:n,style:l},r.a.createElement(_.a,{checked:Boolean(t.select1),onChange:function(t){var i=a;i.NutritionDiagnosis.options[n].select1=t.target.checked,e.setState({data:i})}},t.text),t._opt&&r.a.createElement(x.a,{defaultValue:"",onChange:function(t){var i=a;i.NutritionDiagnosis.options[n].select2=t,e.setState({data:i})},style:{}},r.a.createElement(W,{value:"",disabled:!0},"\u8f7b\xa0\u4e2d\xa0\u91cd"),t._opt.map(function(e,t){return r.a.createElement(W,{key:t,value:t},e)})))})))))),r.a.createElement("div",{className:"excel"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"line"},r.a.createElement("em",{className:"pro"},"cn"===a.table.language?"\u9879\u76ee":"ITEM"),r.a.createElement("em",{className:"date"},"cn"===a.table.language?"\u65e5\u671f":"DATE"))),i.timerArr.length&&i.timerArr[l].map(function(t,a){return r.a.createElement("td",{"data-colum":"",key:Math.random()},r.a.createElement(j.a,{defaultValue:t?P()(t):void 0,placeholder:"",onChange:function(t,n){i.timerArr[l][a]=n,i.data.map(function(e){e.data[l][a]="".concat(n,",")}),e.setState({tableData:i})}}))}))),r.a.createElement("tbody",null,i.data.map(function(t,a){var n=Math.random();return r.a.createElement("tr",{key:n,style:{borderTop:"".concat("\u7528\u6cd5"==t.key||"USAGE"==t.key?"3px solid #000":""),borderBottom:"".concat("\u8d39\u7528/\u5929"==t.key||"\uffe5/D"==t.key?"3px solid #000":"")}},r.a.createElement(B.a,{title:"\u67e5\u770b\u8d8b\u52bf\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onConfirm:e.openChart.bind(e,t)},r.a.createElement("td",{"data-proid":t.id,"data-contenteditable":"true",style:{height:"22px",fontSize:"DI Symptoms"==t.key?"10px":"11px"},onInput:function(e){e.persist(),i.data[a].key=e.target.innerText;for(var t=document.querySelectorAll("[data-proid='".concat(e.target.dataset.proid,"']")),n=0;n<=t.length-1;)t[n]!=e.target&&(t[n].innerText=e.target.innerText),n++}},t.key)),t.data.length&&t.data[l].map(function(a,n,o){var s=Math.random();return r.a.createElement("td",{style:{color:e.renderChechVal(a.split(",")[1],t.key),background:a.split(",")[1]?"#FAFAD2":""},key:s,contentEditable:!(!i.timerArr[l][n]||"\u7528\u6cd5"===t.key||"USAGE"===t.key),suppressContentEditableWarning:!0,onInput:function(r){r.persist(),e.checkTdVal(r.target);var s=a.split(",");if(1!=s.length&&""!=s[0]||(s[0]=i.timerArr[l][n]),s[1]=Number(r.target.innerText),r.target.style.background=s[1]?"#FAFAD2":"#fff",o[n]=s.join(","),c.includes(t)){var u=[];c.map(function(e){var t={};t.name=e.key,t.value=e.data[l][n].split(",")[1],u.push(t)}),e.setProEn(u,l,n,i.timerArr[l][n])}}},"\u7528\u6cd5"!==t.key&&"USAGE"!==t.key&&a.split(",")[1],("\u7528\u6cd5"===t.key||"USAGE"===t.key)&&r.a.createElement(x.a,{style:{width:t.data[l][n].split(",")[1]?"max-content":"50px"},defaultValue:t.data[l][n].split(",")[1]||"",onChange:function(a){var i=t.data[l][n].split(",");i[1]=a,t.data[l][n]=i.join(","),e.setState({data:e.state.data,dataCopy:e.state.dataCopy})}},r.a.createElement(W,{value:"Qd"},"Qd"),r.a.createElement(W,{value:"Bid"},"Bid"),r.a.createElement(W,{value:"Tid"},"Tid"),r.a.createElement(W,{value:"Qid"},"Qid")))}))})))),r.a.createElement("p",{className:"pageNum"},"\u7b2c\xa0",l+1,"\xa0\u9875"))}),r.a.createElement(V.a,{title:"".concat(this.state.title,"\u8d8b\u52bf"),visible:this.state.showChart,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){e.setState({showChart:!1})},onCancel:function(){e.setState({showChart:!1})}},r.a.createElement(U,{opt:this.state.chartOption})))}}]),t}(r.a.Component),$=M.a.TabPane,Y=(v.a.Search,function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={type:[],searchResult:{},key:"1",role:JSON.parse(sessionStorage.getItem("auth")).role,indicators:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getIndicators",value:function(e){var t=this;C.getIndicators(e).then(function(e){0==e.data.code&&(e.data.data.indicators.map(function(e,t){e.femaleMaxValue==e.maleMaxValue&&e.maleMinValue==e.femaleMinValue?e.rangeValue=[{min:e.maleMinValue,max:e.maleMaxValue}]:e.rangeValue=[{max:e.maleMaxValue,min:e.maleMinValue},{max:e.femaleMaxValue,min:e.femaleMinValue}]}),t.setState({indicators:e.data.data.indicators}))})}},{key:"componentWillMount",value:function(){var e=this;C.patientDetail(this.props.match.params.id).then(function(t){0==t.data.code&&e.setState({searchResult:t.data.data},function(){var t=e.state.searchResult.hospitalId;e.getIndicators(t)})}),2===this.state.role.identity&&this.setState({key:"2"})}},{key:"callback",value:function(e){}},{key:"render",value:function(){var e=this.state,t=e.searchResult,a=e.role,n=e.key;return r.a.createElement("div",null,r.a.createElement("div",{className:"operation"},r.a.createElement("div",{className:"search-info"},r.a.createElement("span",null,"\u59d3\u540d\uff1a",t.fullName||"\u8bf7\u641c\u7d22"),r.a.createElement("span",null,"\u6027\u522b\uff1a",0==t.gender?"\u7537":"\u5973"),r.a.createElement("span",null,"\u5e74\u9f84\uff1a",t.age||"\u8bf7\u641c\u7d22"),r.a.createElement("span",null,"\u4f4f\u9662\u53f7\uff1a",t.hospitalizationNumber||"\u8bf7\u641c\u7d22"),r.a.createElement("span",null,"\u624b\u673a\uff1a",t.mobile||"\u8bf7\u641c\u7d22"))),r.a.createElement(M.a,{defaultActiveKey:n,onChange:this.callback.bind(this)},r.a.createElement($,{tab:"\u8425\u517b\u7b5b\u67e5",key:"1",disabled:2===a.identity},r.a.createElement(T,{id:this.props.match.params.id,info:t})),r.a.createElement($,{tab:"\u8425\u517b\u8bc4\u4f30",key:"2",disabled:!0}),r.a.createElement($,{tab:"\u8425\u517b\u5e72\u9884",key:"3",disabled:5===a.identity},r.a.createElement(Q,{indicators:this.state.indicators,id:this.props.match.params.id,info:t})),r.a.createElement($,{tab:"\u8425\u517b\u76d1\u6d4b",key:"4",disabled:!0})))}}]),t}(r.a.Component)),Z=(a(939),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){e||C.login(a).then(function(e){0===e.data.code?(e.data.data=Object.assign({},e.data.data,{account:a.account}),sessionStorage.setItem("auth",JSON.stringify(e.data.data)),t.props.history.replace("/")):S.a.error({message:e.data.msg})})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"form-content"},r.a.createElement("p",{className:"title"},"\u533b\u9662\u8425\u517b\u8bca\u7597\u7cfb\u7edf"),r.a.createElement(k.a,{onSubmit:this.handleSubmit.bind(this),className:"login-form"},r.a.createElement(k.a.Item,null,e("account",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]})(r.a.createElement(v.a,{size:"large",prefix:r.a.createElement(m.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8d26\u53f7"}))),r.a.createElement(k.a.Item,null,e("password",{rules:[{required:!0,message:"\u5bc6\u7801\u9519\u8bef"}]})(r.a.createElement(v.a,{size:"large",prefix:r.a.createElement(m.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),r.a.createElement(k.a.Item,null,r.a.createElement(b.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u5f55")))))}}]),t}(r.a.Component)),X=k.a.create({name:"login"})(Z),ee=(a(940),a(177)),te=(a(418),a(102)),ae=(a(209),a(74)),ne=(a(419),a(219)),ie=a(140),re=(a(948),function(e){return r.a.createElement("div",null,r.a.createElement(V.a,{title:e.title,visible:e.visible,onOk:e.handleOk,onCancel:e.handleCancel},e.children))}),le=v.a.Group,oe=x.a.Option,se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={showModel:!1,allowSex:!1,indicatorId:"",rangeValue:[{min:void 0,max:void 0},{min:void 0,max:void 0}],hospitalList:[],indicators:[],hospitalId:"",quotaList:[],updata:!1},a.columns=[{title:"\u9879\u76ee(\u4e2d\u6587)",dataIndex:"zhName",key:"zhName",align:"center",render:function(e){return r.a.createElement("span",null,e)}},{title:"\u82f1\u6587\u7f29\u5199",dataIndex:"enName",key:"enName",align:"center"},{title:"\u53c2\u8003\u8303\u56f4",dataIndex:"rangeValue",key:"rangeValue",align:"center",render:function(e){return 1==e.length?r.a.createElement("span",null,e[0].min,"~",e[0].max):r.a.createElement("div",null,r.a.createElement("p",{style:{margin:0}},"\u7537:",e[0].min,"~",e[0].max),r.a.createElement("p",{style:{margin:0}},"\u5973:",e[1].min,"~",e[1].max))}},{title:"\u5355\u4f4d",key:"unit",dataIndex:"unit",align:"center"},{title:"\u64cd\u4f5c",key:"action",align:"center",render:function(e,t){return r.a.createElement("span",null,r.a.createElement("a",{onClick:a.updata.bind(Object(ie.a)(a),t)},"\u4fee\u6539"),r.a.createElement(ne.a,{type:"vertical"}),r.a.createElement("a",null,"\u5220\u9664"))}}],a.role=JSON.parse(sessionStorage.getItem("auth")),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;C.getIndicators().then(function(t){0===t.data.code&&e.setState({indicators:t.data.data.indicators})}),4===this.role.role.identity&&C.getHospitalList().then(function(t){0===t.data.code&&e.setState({hospitalList:t.data.data.hospitals})}),4!==this.role.role.identity&&this.setState({hospitalList:[this.role.role.hospital]})}},{key:"add",value:function(){var e=this,t={hospitalId:this.state.hospitalId,indicatorId:this.state.indicatorId,maleMinValue:this.state.rangeValue[0].min,maleMaxValue:this.state.rangeValue[0].max,femaleMinValue:this.state.allowSex?this.state.rangeValue[1].min:this.state.rangeValue[0].min,femaleMaxValue:this.state.allowSex?this.state.rangeValue[1].max:this.state.rangeValue[0].max};C.setIndicator(t).then(function(t){0==t.data.code&&(S.a.success({message:"\u4fdd\u5b58\u6210\u529f"}),e.setState({updata:!1,showModel:!1,indicatorId:"",rangeValue:[{min:void 0,max:void 0},{min:void 0,max:void 0}]}),e.getIndicators(e.state.hospitalId))})}},{key:"hospitalChange",value:function(e){this.setState({hospitalId:e}),this.getIndicators(e)}},{key:"getIndicators",value:function(e){var t=this;C.getIndicators(e).then(function(e){0==e.data.code&&(e.data.data.indicators.map(function(e,t){e.key=t,e.femaleMaxValue==e.maleMaxValue&&e.maleMinValue==e.femaleMinValue?e.rangeValue=[{min:e.maleMinValue,max:e.maleMaxValue}]:e.rangeValue=[{max:e.maleMaxValue,min:e.maleMinValue},{max:e.femaleMaxValue,min:e.femaleMinValue}]}),t.setState({quotaList:e.data.data.indicators}))})}},{key:"updata",value:function(e){this.setState({updata:!0,showModel:!0,allowSex:2==e.rangeValue.length,rangeValue:e.rangeValue,indicatorId:e.id})}},{key:"render",value:function(){var e=this,t=this.state,a=t.updata,n=t.indicatorId,i=t.quotaList,l=t.hospitalId,o=t.allowSex,s=t.showModel,c=t.rangeValue,u=t.hospitalList,d=t.indicators;return r.a.createElement("div",{className:"table-box"},r.a.createElement("div",{className:"operation"},r.a.createElement(x.a,{defaultValue:"\u8bf7\u9009\u62e9\u533b\u9662",style:{width:"150px",marginRight:"10px"},onChange:this.hospitalChange.bind(this)},u.map(function(e,t){return r.a.createElement(oe,{key:t,value:e.id,style:{width:"150px"}},e.name)})),r.a.createElement(b.a,{type:"primary",onClick:function(){e.setState({showModel:!0})},disabled:!l},"\u6dfb\u52a0\u53c2\u8003\u503c")),r.a.createElement("div",{className:"table"},r.a.createElement(ae.a,{columns:this.columns,bordered:!0,dataSource:i})),r.a.createElement(re,{title:"\u6dfb\u52a0\u53c2\u8003\u503c",visible:s,handleOk:this.add.bind(this),handleCancel:function(){e.setState({showModel:!1,updata:!1,indicatorId:"",rangeValue:[{min:void 0,max:void 0},{min:void 0,max:void 0}]})}},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form-con"},r.a.createElement(x.a,{value:n||"\u8bf7\u9009\u62e9",style:{width:200,marginRight:"10px"},disabled:Boolean(a),onChange:function(t){e.setState({indicatorId:t})}},d.map(function(e){return r.a.createElement(oe,{key:e.id,value:e.id},e.zhName)})),r.a.createElement(te.a.Group,{onChange:function(t){e.setState({allowSex:t.target.value})},value:o},r.a.createElement(te.a,{value:!1},"\u4e0d\u533a\u5206\u6027\u522b"),r.a.createElement(te.a,{value:!0},"\u533a\u5206\u6027\u522b"))),r.a.createElement("div",{className:"form-con",style:{marginTop:"20px"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o?"\u7537\uff1a":"",r.a.createElement(le,{compact:!0},r.a.createElement(ee.a,{style:{width:150,textAlign:"center"},placeholder:"\u6700\u5c0f\u503c",value:c[0].min,onChange:function(t){var a=e.state.rangeValue;a[0].min=t,e.setState({rangeValue:a})}}),r.a.createElement(v.a,{style:{width:30,borderLeft:0,marginLeft:1,marginRight:1,pointerEvents:"none",backgroundColor:"#fff"},placeholder:"~",disabled:!0}),r.a.createElement(ee.a,{style:{width:150,textAlign:"center",borderLeft:0},placeholder:"\u6700\u5927\u503c",value:c[0].max,onChange:function(t){var a=e.state.rangeValue;a[0].max=t,e.setState({rangeValue:a})}}))),o&&r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:"10px"}},o?"\u5973\uff1a":"",r.a.createElement(le,{compact:!0},r.a.createElement(ee.a,{style:{width:150,textAlign:"center"},placeholder:"\u6700\u5c0f\u503c",value:c[1].min,onChange:function(t){var a=e.state.rangeValue;a[1].min=t,e.setState({rangeValue:a})}}),r.a.createElement(v.a,{style:{width:30,borderLeft:0,marginLeft:1,marginRight:1,pointerEvents:"none",backgroundColor:"#fff"},placeholder:"~",disabled:!0}),r.a.createElement(ee.a,{style:{width:150,textAlign:"center",borderLeft:0},placeholder:"\u6700\u5927\u503c",value:c[1].max,onChange:function(t){var a=e.state.rangeValue;a[1].max=t,e.setState({rangeValue:a})}})))))))}}]),t}(r.a.Component),ce=(a(989),v.a.Search,[{title:"\u59d3\u540d",dataIndex:"fullName",key:"fullName",align:"center",render:function(e){return r.a.createElement("span",null,e)}},{title:"\u5e74\u9f84",dataIndex:"age",key:"age",ortDirections:["descend","ascend"],sorter:function(e,t){return e.age-t.age},align:"center"},{title:"\u6027\u522b",dataIndex:"gender",key:"gender",align:"center",render:function(e){return r.a.createElement("span",null,0==e?"\u7537":"\u5973")}},{title:"\u4f4f\u9662\u53f7",dataIndex:"hospitalizationNumber",key:"hospitalizationNumber",align:"center"},{title:"\u79d1\u5ba4",dataIndex:"department",key:"department",ortDirections:["descend","ascend"],sorter:function(e,t){return e.department.localeCompare(t.department)},align:"center"},{title:"\u624b\u673a",dataIndex:"mobile",key:"mobile",align:"center"},{title:"\u64cd\u4f5c",key:"action",align:"center",render:function(e,t){return r.a.createElement(f.c,{to:"/search/".concat(t.id)},"\u8be6\u60c5")}}]),ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={patientList:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.getData({})}},{key:"getData",value:function(e){var t=this;C.userSearch(e).then(function(e){0==e.data.code&&(e.data.data.list.map(function(e,t){e.key=t}),t.setState({patientList:e.data.data.list.length?e.data.data.list:[]}))})}},{key:"search",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){e||t.getData(a)})}},{key:"render",value:function(){var e=this.state.patientList,t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"patientlist"},r.a.createElement("div",{className:"form"},r.a.createElement(k.a,{layout:"inline",onSubmit:this.search.bind(this)},r.a.createElement(k.a.Item,null,t("fullName",{rules:[{required:!1}]})(r.a.createElement(v.a,{placeholder:"\u59d3\u540d"}))),r.a.createElement(k.a.Item,null,t("hospitalizationNumber",{rules:[{required:!1}]})(r.a.createElement(v.a,{placeholder:"\u4f4f\u9662\u53f7"}))),r.a.createElement(k.a.Item,null,r.a.createElement(b.a,{type:"primary",htmlType:"submit"},"\u641c\u7d22")))),r.a.createElement(ae.a,{className:"table",columns:ce,bordered:!0,dataSource:e}))}}]),t}(r.a.Component),de=k.a.create({name:"horizontal_login"})(ue),he=M.a.TabPane,pe=x.a.Option,me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={showModel:!1,tabKey:"1",userName:"",pwd:"",hospitals:[],hospitalId:"",hospitalManagerList:[],editorList:[],nurseList:[],customerList:[],updata:!1,userId:"",role:JSON.parse(sessionStorage.getItem("auth")).role},a.columns=[{title:"\u7528\u6237\u540d",dataIndex:"account",key:"account",align:"center",render:function(e){return r.a.createElement("span",null,e)}},{title:"\u7528\u6237\u8eab\u4efd",dataIndex:"role.identityTitle",key:"role.identityTitle",align:"center"},{title:"\u6240\u5c5e\u533b\u9662",dataIndex:"role.hospital.name",key:"role.hospital.name",align:"center"},{title:"\u64cd\u4f5c",key:"action",align:"center",render:function(e,t){return 1===JSON.parse(sessionStorage.getItem("auth")).role.identity?r.a.createElement("span",null,"\u60a8\u65e0\u6743\u9650\u64cd\u4f5c"):r.a.createElement("span",null,r.a.createElement("a",{onClick:a.updata.bind(Object(ie.a)(a),t)},"\u4fee\u6539"),r.a.createElement(ne.a,{type:"vertical"}),r.a.createElement("a",null,"\u5220\u9664"))}}],a.tabArr=["\u533b\u9662\u7ba1\u7406\u5458","\u8425\u517b\u5e08","\u62a4\u58eb","\u5ba2\u670d"],a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"updata",value:function(e){this.setState({showModel:!0,updata:!0,userName:e.account,userId:e.id})}},{key:"callback",value:function(e){var t=this,a=this.state.role;this.setState({tabKey:e},function(){"1"==e&&t.getHospitalManagerList(t.state.hospitalId),"2"==e&&t.getEditor(t.state.hospitalId),"3"==e&&t.getNurseList(t.state.hospitalId),"4"==e&&4===a.identity&&t.getCustomer(t.state.hospitalId)})}},{key:"add",value:function(){var e=this,t={account:this.state.userName,password:this.state.pwd},a=this.state,n=a.tabKey,i=a.updata,r=a.userId;!i&&(t.hospitalId=this.state.hospitalId),i&&(t.id=r),"1"==n&&(!i&&C.setHospitalManager(t).then(function(t){0===t.data.code&&e.getHospitalManagerList(e.state.hospitalId)}),i&&C.updataHospitalManager(t).then(function(t){0===t.data.code&&e.getHospitalManagerList(e.state.hospitalId)})),"2"==n&&(!i&&C.setEditor(t).then(function(t){0===t.data.code&&e.getEditor(e.state.hospitalId)}),i&&C.updataEditor(t).then(function(t){0===t.data.code&&e.getEditor(e.state.hospitalId)})),"3"==n&&(!i&&C.setNurse(t).then(function(t){0===t.data.code&&e.getNurseList(e.state.hospitalId)}),i&&C.updataNurse(t).then(function(t){0===t.data.code&&e.getNurseList(e.state.hospitalId)})),"4"==n&&(!i&&C.setCustomer(t).then(function(t){0===t.data.code&&e.getCustomer(e.state.hospitalId)}),i&&C.updataCustomer(t).then(function(t){0===t.data.code&&e.getCustomer(e.state.hospitalId)})),this.setState({showModel:!1,userName:"",pwd:"",updata:!1,userId:""})}},{key:"componentWillMount",value:function(){var e=this;3===this.state.role.identity&&this.setState({tabKey:"2"}),C.getHospitalList().then(function(t){0===t.data.code&&e.setState({hospitals:t.data.data.hospitals})})}},{key:"getHospitalManagerList",value:function(e){var t=this;C.getHospitalManagerLis(e).then(function(e){0==e.data.code&&(e.data.data.list.map(function(e,t){e.key=t}),t.setState({hospitalManagerList:e.data.data.list}))})}},{key:"getEditor",value:function(e){var t=this;C.getEditorList(e).then(function(e){0==e.data.code&&(e.data.data.list.map(function(e,t){e.key=t}),t.setState({editorList:e.data.data.list}))})}},{key:"getNurseList",value:function(e){var t=this;C.getNurse(e).then(function(e){0==e.data.code&&(e.data.data.list.map(function(e,t){e.key=t}),t.setState({nurseList:e.data.data.list}))})}},{key:"getCustomer",value:function(e){var t=this;C.customerList(e).then(function(e){0==e.data.code&&(e.data.data.list.map(function(e,t){e.key=t}),t.setState({customerList:e.data.data.list}))})}},{key:"hospitalChange",value:function(e){var t=this,a=this.state.role;this.setState({hospitalId:e},function(){(4===a.identity||1===a.identity)&&t.getHospitalManagerList(e),t.getEditor(e),3!==a.identity&&t.getNurseList(e),4===a.identity&&t.getCustomer(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.showModel,n=t.tabKey,i=t.hospitals,l=t.hospitalManagerList,o=t.editorList,s=t.customerList,c=t.nurseList,u=t.role,d=t.hospitalId,h=t.updata;return r.a.createElement("div",{style:{background:"#fff",padding:"10px"}},r.a.createElement(x.a,{defaultValue:"\u8bf7\u9009\u62e9\u533b\u9662",style:{width:"200px",marginBottom:"10px",marginRight:"10px"},onChange:this.hospitalChange.bind(this)},i.map(function(e,t){return r.a.createElement(pe,{key:e.id,value:e.id,disabled:3===u.identity&&u.hospital.id!==e.id},e.name)})),r.a.createElement(b.a,{type:"primary",style:{marginRight:"10px"},disabled:!d,onClick:function(){e.setState({showModel:!0})}},"\u6dfb\u52a0",this.tabArr[Number(n)-1]),r.a.createElement(M.a,{defaultActiveKey:n,onChange:this.callback.bind(this)},r.a.createElement(he,{tab:"\u533b\u9662\u7ba1\u7406\u5458",key:"1",disabled:3===u.identity},r.a.createElement(ae.a,{columns:this.columns,bordered:!0,dataSource:l})),r.a.createElement(he,{tab:"\u8425\u517b\u5e08",key:"2"},r.a.createElement(ae.a,{columns:this.columns,bordered:!0,dataSource:o})),r.a.createElement(he,{tab:"\u62a4\u58eb",key:"3",disabled:3===u.identity},r.a.createElement(ae.a,{columns:this.columns,bordered:!0,dataSource:c})),r.a.createElement(he,{tab:"\u5ba2\u670d",key:"4",disabled:4!=u.identity},r.a.createElement(ae.a,{columns:this.columns,bordered:!0,dataSource:s}))),r.a.createElement(re,{title:"\u6dfb\u52a0\u53c2\u8003\u503c",visible:a,handleOk:this.add.bind(this),handleCancel:function(){e.setState({showModel:!1,userName:"",pwd:"",updata:!1,userId:""})}},r.a.createElement("div",null,r.a.createElement(v.a,{placeholder:"\u7528\u6237\u540d",value:this.state.userName,disabled:h,onChange:function(t){t.persist(),e.setState({userName:t.target.value})}}),r.a.createElement(v.a,{style:{marginTop:"10px"},placeholder:"\u5bc6\u7801",value:this.state.pwd,type:"password",onChange:function(t){t.persist(),e.setState({pwd:t.target.value})}}))))}}]),t}(r.a.Component),ge=(a(991),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={hospitalList:[]},a.columns=[{title:"\u533b\u9662\u540d\u79f0",dataIndex:"name",key:"name",align:"center",render:function(e){return r.a.createElement("span",null,e)}},{title:"\u5730\u5740",dataIndex:"address",key:"address",align:"center"},{title:"\u64cd\u4f5c",key:"action",align:"center",render:function(e,t){return r.a.createElement("a",{onClick:function(){C.delHospital(t.id).then(function(e){0===e.data.code&&a.getHospital()})}},"\u5220\u9664")}}],a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.getHospital()}},{key:"getHospital",value:function(){var e=this;C.getHospitalList().then(function(t){0===t.data.code&&(t.data.data.hospitals.map(function(e){e.key=e.id}),e.setState({hospitalList:t.data.data.hospitals}))})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){e||C.addHospital(a).then(function(e){0===e.data.code&&(t.props.form.resetFields(),t.getHospital())})})}},{key:"render",value:function(){var e=this.state.hospitalList,t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"table-box"},r.a.createElement("div",{className:"operation"},r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form-con",style:{marginTop:"20px"}},r.a.createElement(k.a,{onSubmit:this.handleSubmit.bind(this),layout:"inline"},r.a.createElement(k.a.Item,null,t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u533b\u9662\u540d\u79f0"}]})(r.a.createElement(v.a,{size:"default",placeholder:"\u533b\u9662\u540d\u79f0"}))),r.a.createElement(k.a.Item,null,t("address",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u533b\u9662\u5730\u5740"}]})(r.a.createElement(v.a,{size:"default",type:"text",placeholder:"\u533b\u9662\u5730\u5740"}))),r.a.createElement(k.a.Item,null,r.a.createElement(b.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u6dfb\u52a0")))))),r.a.createElement("div",{className:"table"},r.a.createElement(ae.a,{columns:this.columns,bordered:!0,dataSource:e})))}}]),t}(r.a.Component)),ye=k.a.create({name:"hospitalList"})(ge),fe=[{key:1,title:"\u65b0\u589e\u4fe1\u606f",path:"/",get renderMenu(){return 4==JSON.parse(sessionStorage.getItem("auth")).role.identity||2==JSON.parse(sessionStorage.getItem("auth")).role.identity},component:w},{key:2,title:"\u75c5\u4eba\u5217\u8868",path:"/patientList",get renderMenu(){return 3!==JSON.parse(sessionStorage.getItem("auth")).role.identity},component:de},{key:2,title:"\u75c5\u4eba\u5217\u8868",path:"/search",renderMenu:!1,component:Y},{key:6,title:"\u7528\u6237\u7ba1\u7406",path:"/user",get renderMenu(){return 2!==JSON.parse(sessionStorage.getItem("auth")).role.identity&&5!==JSON.parse(sessionStorage.getItem("auth")).role.identity},component:me},{key:3,title:"\u533b\u9662\u7ba1\u7406",path:"/manager",get renderMenu(){return 2!==JSON.parse(sessionStorage.getItem("auth")).role.identity&&5!==JSON.parse(sessionStorage.getItem("auth")).role.identity&&1!==JSON.parse(sessionStorage.getItem("auth")).role.identity},routes:[{key:4,title:"\u6dfb\u52a0\u533b\u9662",path:"/manager/addHospital",component:ye,get renderMenu(){return 4===JSON.parse(sessionStorage.getItem("auth")).role.identity}},{key:5,title:"\u751f\u5316\u6307\u6807",path:"/manager/quota",component:se,renderMenu:!0}]},{key:7,title:"\u767b\u5f55",path:"/logon",renderMenu:!1,component:X}],Ee=(a(992),a(145)),be=function(e){return function(t){console.log(e),t({type:"setPath",path:e})}},ve=s.a.Header,ke=s.a.Content,Se=(s.a.Footer,y.b.SubMenu),xe={updataPath:be},Ne=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={collapsed:!1,routesNum:[],selectKey:[]},a.onCollapse=function(e){a.setState({collapsed:e})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getRoutesNum",value:function(e){var t=this;e.forEach(function(e){e.path&&!e.routes?t.state.routesNum.push(e):e.routes&&t.getRoutesNum(e.routes)})}},{key:"menuClick",value:function(e){this.props.updataPath(e.item.props["data-path"]),this.setState({selectKey:e.keyPath})}},{key:"componentWillReceiveProps",value:function(e){this.getRoutesNum(fe);var t=this.state.routesNum.find(function(t){var a=new RegExp("".concat(t.path));return"/"===t.path?t.path===e.path:a.test(e.path)}).key;this.setState({selectKey:[String(t)]})}},{key:"componentWillMount",value:function(){this.props.updataPath(this.props.location.pathname)}},{key:"loginOut",value:function(){sessionStorage.clear(),this.props.history.replace("/login")}},{key:"render",value:function(){var e=this.state.selectKey,t=fe.filter(function(e){return e.routes&&(e.routes=e.routes.filter(function(e){return e.renderMenu})),e.renderMenu}),a=JSON.parse(sessionStorage.getItem("auth"));return r.a.createElement("div",null,r.a.createElement(ve,{style:{position:"fixed",width:"100%",zIndex:999}},r.a.createElement("div",{className:"logo"}),r.a.createElement(y.b,{theme:"dark",defaultSelectedKeys:["1"],selectedKeys:e,mode:"horizontal",style:{lineHeight:"64px",width:"70%",display:"inline-block"},onClick:this.menuClick.bind(this)},t.map(function(e,t){return e.routes?r.a.createElement(Se,{key:t+1,title:r.a.createElement("span",null,r.a.createElement(m.a,{type:"user"}),r.a.createElement("span",null,e.title))},e.routes.map(function(e,t){return r.a.createElement(y.b.Item,{key:e.key,"data-path":e.path},r.a.createElement(f.c,{to:e.path},e.title))})):r.a.createElement(y.b.Item,{key:e.key,"data-path":e.path},r.a.createElement(m.a,{type:"pie-chart"}),r.a.createElement("span",null,e.title),r.a.createElement(f.c,{style:{display:"inline"},to:e.path}))})),r.a.createElement("div",{className:"user-info"},r.a.createElement("span",null,a.account),r.a.createElement("a",{onClick:this.loginOut.bind(this)},"\u9000\u51fa"))),r.a.createElement(ke,{className:"layout-content"},this.props.children))}}]),t}(r.a.Component),Ie=Object(Ee.b)(function(e){return Object(g.a)({},e.path)},xe)(Object(E.g)(Ne)),Ce={updataPath:be},Ae=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(s.a,{style:{minHeight:"100vh"}},r.a.createElement(f.b,null,r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/login",component:X}),r.a.createElement(E.b,{path:"/",render:function(e){if(!sessionStorage.getItem("auth"))return r.a.createElement(E.a,{to:"/login"});var t=JSON.parse(sessionStorage.getItem("auth"));return 4===t.role.identity?r.a.createElement(Ie,null,r.a.createElement(E.b,{exact:!0,path:"/",component:w}),r.a.createElement(E.b,{exact:!0,path:"/search/:id",component:Y}),r.a.createElement(E.b,{exact:!0,path:"/manager/quota",component:se}),r.a.createElement(E.b,{exact:!0,path:"/manager/addHospital",component:ye}),r.a.createElement(E.b,{exact:!0,path:"/user",component:me}),r.a.createElement(E.b,{exact:!0,path:"/patientList",component:de})):3===t.role.identity?r.a.createElement(Ie,null,r.a.createElement(E.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(E.a,{to:"/user"})}}),r.a.createElement(E.b,{exact:!0,path:"/user",component:me}),r.a.createElement(E.b,{exact:!0,path:"/manager/quota",component:se})):2===t.role.identity?r.a.createElement(Ie,null,r.a.createElement(E.b,{exact:!0,path:"/",component:w}),r.a.createElement(E.b,{exact:!0,path:"/patientList",component:de}),r.a.createElement(E.b,{exact:!0,path:"/search/:id",component:Y})):5===t.role.identity?r.a.createElement(Ie,null,r.a.createElement(E.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(E.a,{to:"/patientList"})}}),r.a.createElement(E.b,{exact:!0,path:"/patientList",component:de}),r.a.createElement(E.b,{exact:!0,path:"/search/:id",component:Y})):1===t.role.identity?r.a.createElement(Ie,null,r.a.createElement(E.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(E.a,{to:"/patientList"})}}),r.a.createElement(E.b,{exact:!0,path:"/patientList",component:de}),r.a.createElement(E.b,{exact:!0,path:"/search/:id",component:Y}),r.a.createElement(E.b,{exact:!0,path:"/user",component:me})):void 0}})))))}}]),t}(r.a.Component),Fe=Object(Ee.b)(null,Ce)(Object(E.g)(Ae)),De=a(121),Oe=a(444),we={path:""},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setPath":return e.path=t.path,Object(g.a)({path:t.path},e);default:return Object(g.a)({},e)}},_e=Object(De.c)({path:Me}),je=Object(De.d)(_e,Object(De.a)(Oe.a)),Le=function(){return r.a.createElement(f.a,null,r.a.createElement(Ee.a,{store:je},r.a.createElement(Fe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=a(445);o.a.render(r.a.createElement(n.b,{locale:He.a},r.a.createElement(Le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[448,1,2]]]);
//# sourceMappingURL=main.abc43b0f.chunk.js.map